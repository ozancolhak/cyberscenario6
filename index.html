<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cyber Scenario V6: Bulut GÃ¼venliÄŸi Kriz SimÃ¼lasyonu</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/dracula.min.css">
    <style>
        :root {
            --dark-bg: #1a1a2e;
            --container-bg: #2a2a4a;
            --section-bg: #333355;
            --interactive-bg: #444466;
            --accent-blue: #8be9fd;
            --accent-purple: #bd93f9;
            --accent-pink: #ff79c6;
            --accent-green: #50fa7b;
            --accent-yellow: #f1fa8c;
            --accent-red: #ff5555;
            --text-light: #e0e0e0;
            --text-dark: #282a36;
        }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }

        body { 
            font-family: 'Roboto', sans-serif; 
            background-color: var(--dark-bg); 
            color: var(--text-light); 
            margin: 0; 
            padding: 20px; 
            display: flex; 
            justify-content: center; 
            align-items: flex-start; 
            min-height: 100vh;
            font-size: 0.95em; 
        }

        .container { 
            background-color: var(--container-bg); 
            border-radius: 12px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.5); 
            padding: 20px; 
            max-width: 950px; 
            width: 100%; 
            margin: 40px 0; 
        }

        @media (min-width: 768px) { .container { padding: 40px; } }

        .centered-page { 
            display: flex; 
            flex-direction: column; 
            justify-content: center; 
            align-items: center; 
            text-align: center; 
            min-height: 60vh; 
            animation: fadeIn 0.5s ease-out; 
        }

        h1 { font-size: 2.4em; color: var(--accent-blue); margin-bottom: 20px; }
        h2 { font-size: 1.9em; color: var(--accent-blue); border-bottom: 2px solid var(--interactive-bg); padding-bottom: 15px; margin-bottom: 25px; text-align: left; }
        h3 { font-size: 1.5em; color: var(--accent-purple); text-align: left; margin-top: 25px; margin-bottom: 15px; }
        h4 { font-size: 1.1em; color: var(--accent-yellow); text-align: left; margin-top: 0; border-bottom: 1px solid var(--interactive-bg); padding-bottom: 10px; }
        p { line-height: 1.7; font-size: 1em; }

        .section { display: none; padding: 20px; background-color: var(--section-bg); border-radius: 8px; margin-top: 25px; animation: fadeIn 0.5s ease-out; }
        @media (min-width: 768px) { .section { padding: 30px; } }

        .interactive-element { background-color: var(--interactive-bg); border-radius: 8px; padding: 20px; margin-top: 20px; }
        .decision-buttons { display: flex; flex-direction: column; gap: 15px; margin-top: 30px; }
        .btn { background-color: #6272a4; color: white; border: none; padding: 15px 25px; border-radius: 8px; cursor: pointer; font-size: 1.1em; transition: all 0.3s ease; text-align: left; display: flex; align-items: center; gap: 15px; font-weight: 700; }
        .btn:hover { background-color: #7a8ab9; transform: translateY(-3px); box-shadow: 0 4px 10px rgba(0,0,0,0.3); }
        .btn:disabled { background-color: #555 !important; color: #999 !important; cursor: not-allowed; transform: none; box-shadow: none; opacity: 0.7; }
        .btn .btn-text { flex-grow: 1; }
        .btn small { display: block; font-size: 0.85em; opacity: 0.8; margin-top: 5px; font-weight: 400; }
        .btn-start, .btn-continue { font-size: 1.3em; font-weight: bold; text-align: center; background-color: var(--accent-green); color: var(--text-dark); justify-content: center; }
        .btn.critical { background-color: var(--accent-pink); }

        #intermissionSection .metric-change { font-size: 1.2em; margin: 15px 0; display: flex; align-items: center; gap: 10px; }
        .metric-change .positive { color: var(--accent-green); }
        .metric-change .negative { color: var(--accent-red); }
        .metric-change .neutral { color: var(--accent-blue); } 

        #statusBar { display: flex; justify-content: space-around; flex-wrap: wrap; gap: 15px; background-color: var(--text-dark); padding: 15px; border-radius: 8px; margin-bottom: 25px; border: 1px solid #6272a4; }
        #statusBar .metric { text-align: center; font-size: 0.9em; flex: 1; min-width: 100px; } 
        #statusBar .metric .value { font-size: 1.3em; font-weight: bold; color: var(--accent-yellow); }

        .final-metrics { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 20px; margin-top: 20px; width: 100%; max-width: 850px; } 
        .metric-card { background-color: var(--section-bg); padding: 25px; border-radius: 8px; text-align: center; border: 1px solid var(--interactive-bg); transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(0,0,0,0.2); display: flex; flex-direction: column; justify-content: center; align-items: center; min-height: 150px; }
        .metric-card:hover { transform: scale(1.05); border-color: var(--accent-blue); }
        .metric-card .icon { font-size: 2.5em; color: var(--accent-blue); margin-bottom: 10px; }
        .metric-card .label { font-size: 1.1em; margin-bottom: 5px; color: var(--text-light); }
        .metric-card .value { font-size: 1.8em; font-weight: bold; color: var(--accent-yellow); }

        .code-block, .slack-chat { background-color: var(--text-dark); border: 1px solid #6272a4; border-radius: 8px; padding: 20px; margin-top: 15px; white-space: pre-wrap; word-break: break-all; font-family: 'Consolas', monospace; }
        .learning-note { background-color: var(--text-dark); border-left: 5px solid var(--accent-blue); padding: 20px; border-radius: 8px; margin-top: 30px; }
        .scenario-image { width: 100%; max-width: 500px; margin: 25px auto; display: block; border-radius: 8px; border: 1px solid var(--interactive-bg); box-shadow: 0 4px 15px rgba(0,0,0,0.3); }
        .slack-chat .message { margin-bottom: 10px; padding: 8px; border-radius: 5px; background-color: #3f3f5a; }
        .slack-chat .sender { font-weight: bold; color: var(--accent-pink); }
        .slack-chat .sender.cso { color: var(--accent-green); }
        .slack-chat .sender.ops { color: var(--accent-yellow); }
        .slack-chat .sender.legal { color: var(--accent-blue); }
        .slack-chat .sender.ceo { color: var(--accent-purple); }
        .slack-chat .sender.cto { color: var(--accent-green); } 
        .slack-chat .sender.pr { color: var(--accent-pink); } 
        .slack-chat .sender.finance { color: var(--accent-red); } 
        .suspect-card { background-color: var(--interactive-bg); border-radius: 8px; padding: 15px; margin-bottom: 10px; border-left: 5px solid var(--accent-purple); box-shadow: 0 2px 8px rgba(0,0,0,0.2); }
        .suspect-card h4 { margin-top: 0; margin-bottom: 5px; border-bottom: none; color: var(--accent-purple); }

        /* === FÄ°NAL SAYFASI STÄ°LLERÄ° === */
        #finalSection { text-align: center; }
        #performance-badge-container { margin: 25px 0; }
        #performance-badge { padding: 12px 30px; font-size: 1.8em; font-weight: bold; border-radius: 50px; display: inline-block; color: var(--text-dark); box-shadow: 0 5px 20px rgba(0,0,0,0.4); transition: transform 0.3s ease; }
        #performance-badge:hover { transform: scale(1.05); }
        .post-crisis-layout { display: grid; grid-template-columns: 1fr; gap: 30px; text-align: left; margin-top: 40px; width: 100%; }
        @media (min-width: 800px) { .post-crisis-layout { grid-template-columns: 1fr 1fr; } }
        .event-timeline, .strategic-debrief { background-color: var(--interactive-bg); padding: 25px; border-radius: 8px; border: 1px solid var(--section-bg); margin-top: 20px; }
        .event-timeline h3, .strategic-debrief h3 { margin-top: 0; padding-bottom: 10px; border-bottom: 1px solid var(--section-bg); color: var(--accent-blue); display: flex; align-items: center; gap: 10px; }
        .event-timeline ul { list-style-type: none; padding-left: 0; margin: 15px 0 0 0; }
        .event-timeline li { position: relative; padding: 5px 0 15px 35px; border-left: 2px solid var(--section-bg); font-size: 0.95em; }
        .event-timeline li:last-child { border-left: none; }
        .event-timeline li::before { content: '\f00c'; font-family: 'Font Awesome 6 Free'; font-weight: 900; color: var(--accent-green); position: absolute; left: -12px; top: 5px; background-color: var(--dark-bg); width: 22px; height: 22px; border-radius: 50%; text-align: center; line-height: 22px; font-size: 0.8em; border: 2px solid var(--section-bg); }
        .event-timeline li.negative::before { content: '\f00d'; color: var(--accent-red); }
        .event-timeline li.neutral::before { content: '\f05a'; color: var(--accent-blue); }
        .event-timeline li .decision-title { font-weight: bold; color: var(--accent-purple); display: block; margin-bottom: 4px; }
        .event-timeline li .decision-impact { font-style: italic; opacity: 0.8; font-size: 0.9em; }
        #strategic-debrief-content p { font-size: 1em; margin-bottom: 15px; }
        #score-breakdown { list-style: none; padding: 0; margin-top: 15px; text-align: left; }
        #score-breakdown li { padding: 8px 12px; border-radius: 6px; margin-bottom: 8px; font-size: 1.05em; display: flex; justify-content: space-between; }
        #score-breakdown .score-plus { background-color: rgba(80, 250, 123, 0.1); border-left: 3px solid var(--accent-green); }
        #score-breakdown .score-minus { background-color: rgba(255, 85, 85, 0.1); border-left: 3px solid var(--accent-red); }
        #score-breakdown .score-neutral { background-color: rgba(139, 233, 253, 0.1); border-left: 3px solid var(--accent-blue); }
        #score-breakdown .score-value { font-weight: bold; }

        /* Roles Info specific styles */
        .intro-info-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
            margin-top: 30px;
            width: 100%;
            max-width: 800px;
            text-align: left;
        }

        @media (min-width: 768px) {
            .intro-info-grid {
                grid-template-columns: 1fr 1fr; 
            }
        }

        .intro-roles-container, .intro-metrics-container {
            background-color: var(--section-bg);
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            border: 1px solid var(--interactive-bg);
        }

        .intro-roles-container h3, .intro-metrics-container h3 {
            margin-top: 0;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--interactive-bg);
            color: var(--accent-purple);
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .intro-roles-container ul, .intro-metrics-container ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .intro-roles-container li, .intro-metrics-container li {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
            padding: 10px 0;
            border-bottom: 1px dashed var(--interactive-bg);
            font-size: 1.05em;
        }

        .intro-roles-container li:last-child, .intro-metrics-container li:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }

        .intro-roles-container li .icon, .intro-metrics-container li .icon {
            font-size: 1.8em;
            color: var(--accent-blue);
            flex-shrink: 0;
            width: 35px;
            text-align: center;
        }
        
        .intro-roles-container li strong {
            color: var(--accent-yellow);
        }

        .intro-roles-container li small {
            display: block;
            font-size: 0.9em;
            color: var(--text-light);
            opacity: 0.8;
            margin-top: 3px;
        }
        
        /* === Liderlik tablosu (modal) â€” yenilenen tasarÄ±m === */
        .lb-overlay{
            display:none; position:fixed; inset:0;
            background: rgba(10,10,25,.7);
            -webkit-backdrop-filter: blur(4px);
            backdrop-filter: blur(4px);
            z-index:9999; align-items:center; justify-content:center; padding:20px;
        }
        .lb-modal{
            background: linear-gradient(180deg, #2a2a4a 0%, #1f1f36 100%);
            color: var(--text-light);
            width:100%; max-width: 760px; border-radius:14px; padding:22px 22px 16px;
            border:1px solid rgba(255,255,255,.08);
            box-shadow: 0 18px 50px rgba(0,0,0,.55), inset 0 1px 0 rgba(255,255,255,.04);
        }
        .lb-header{
            display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:12px;
        }
        .lb-title{
            display:flex; align-items:center; gap:10px;
            font-size:1.25em; font-weight:800; letter-spacing:.2px; color: var(--accent-yellow);
        }
        .lb-title i{ filter: drop-shadow(0 2px 6px rgba(0,0,0,.35)); }
        .lb-sub{ font-size:.92em; opacity:.85; color:#cfd3ff; }

        .lb-tablewrap{
            margin-top:10px;
            max-height: 60vh; overflow:auto;
            border:1px solid var(--interactive-bg); border-radius:10px;
            box-shadow: inset 0 0 0 1px rgba(255,255,255,.02);
        }

        /* Tablo */
        table.lb-table{ width:100%; border-collapse:collapse; font-size:.97em; }
        table.lb-table th, table.lb-table td{ padding:10px 12px; text-align:left; }
        table.lb-table thead th{
            position: sticky; top:0; z-index:1;
            background:#1f1f36; color:#e9e9ff;
            border-bottom: 1px solid #3b3b66;
            font-weight:700; letter-spacing:.3px;
        }
        table.lb-table tbody td{ border-bottom:1px solid rgba(255,255,255,.06); color:#e9e9f5; }
        table.lb-table tbody tr:hover{ background-color: rgba(255,255,255,.045); }

        /* Ä°lk 3 sÄ±rayÄ± vurgula + rozet */
        table.lb-table tbody tr:nth-child(1){
            background: linear-gradient(90deg, rgba(255,215,0,.18), transparent 65%);
        }
        table.lb-table tbody tr:nth-child(1) td:first-child::after{ content:" ğŸ¥‡"; }
        table.lb-table tbody tr:nth-child(2){
            background: linear-gradient(90deg, rgba(192,192,192,.18), transparent 65%);
        }
        table.lb-table tbody tr:nth-child(2) td:first-child::after{ content:" ğŸ¥ˆ"; }
        table.lb-table tbody tr:nth-child(3){
            background: linear-gradient(90deg, rgba(205,127,50,.18), transparent 65%);
        }
        table.lb-table tbody tr:nth-child(3) td:first-child::after{ content:" ğŸ¥‰"; }

        /* Alt aksiyon butonlarÄ± */
        .lb-actions{ display:flex; gap:12px; justify-content:flex-end; margin-top:14px; }
        .lb-close, .lb-refresh{
            border:0; border-radius:10px; padding:10px 14px; cursor:pointer; font-weight:700;
            transition: transform .12s ease, box-shadow .12s ease, opacity .12s ease;
        }
        .lb-refresh{ background: var(--accent-blue); color:#0c1130; }
        .lb-close{ background: #3d3d60; color:#fff; }
        .lb-refresh:hover{ transform: translateY(-1px); box-shadow: 0 8px 18px rgba(139,233,253,.22); }
        .lb-close:hover{ transform: translateY(-1px); box-shadow: 0 8px 18px rgba(0,0,0,.35); }

        /* KÃ¼Ã§Ã¼k ekran iyileÅŸtirmeleri */
        @media (max-width: 420px){
          .lb-title{ font-size:1.05em; }
          table.lb-table th, table.lb-table td{ padding:9px 10px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="introSection" class="centered-page">
            <h1><i class="fa-solid fa-cloud-bolt"></i> Bulut GÃ¼venliÄŸi Krizi SimÃ¼lasyonu</h1>
            <p style="max-width: 600px;">HoÅŸ geldiniz, **Ã‡OLHAK Teknoloji**'nin **KÄ±demli Bulut GÃ¼venliÄŸi UzmanÄ±**! Åirketiniz, finans sektÃ¶rÃ¼ne yÃ¶nelik risk analiz Ã¼rÃ¼nÃ¼nÃ¼ bulut ortamÄ±nda barÄ±ndÄ±rÄ±yor ve lansmana sadece 72 saat kaldÄ±. Ancak, gÃ¼venlik ekibimiz dÄ±ÅŸarÄ±dan gelen olaÄŸandÄ±ÅŸÄ± veri Ã§ekme talepleri ve sÄ±zÄ±ntÄ± raporlarÄ±yla alarma geÃ§miÅŸ durumda. Bir saldÄ±rganÄ±n, korumasÄ±z bÄ±rakÄ±lmÄ±ÅŸ bir veri deposu, yanlÄ±ÅŸ yapÄ±landÄ±rÄ±lmÄ±ÅŸ eriÅŸim izni veya devre dÄ±ÅŸÄ± kalmÄ±ÅŸ bir gÃ¼venlik adÄ±mÄ± Ã¼zerinden sÄ±zdÄ±ÄŸÄ± dÃ¼ÅŸÃ¼nÃ¼lÃ¼yor. GÃ¶revin: Bu gizli veri sÄ±zÄ±ntÄ±sÄ±nÄ± durdurmak, hasarÄ± kontrol altÄ±na almak ve bulut altyapÄ±nÄ±zÄ±n gelecekteki dayanÄ±klÄ±lÄ±ÄŸÄ±nÄ± saÄŸlamak!</p>
            <img src="images/intro.png" alt="Cloud security themed intro image" class="scenario-image">

            <div class="intro-info-grid">
                <div class="intro-roles-container">
                    <h3><i class="fa-solid fa-people-arrows"></i> SimÃ¼lasyon Rolleri</h3>
                    <ul>
                        <li class="your-role">
                            <span class="icon"><i class="fa-solid fa-cloud-bolt"></i></span>
                            <div>
                                <strong>Sizin RolÃ¼nÃ¼z: KÄ±demli Bulut GÃ¼venliÄŸi UzmanÄ±</strong> 
                                <small>Bulut altyapÄ±sÄ±nÄ±n gÃ¼venliÄŸinden sorumlusun. Teknik analizler, yanlÄ±ÅŸ yapÄ±landÄ±rmalarÄ±n tespiti ve eriÅŸim izinleri gibi alanlarda aktif rol alÄ±yorsun. SeÃ§imlerin sonucu doÄŸrudan etkileyecek.</small>
                            </div>
                        </li>
                        <li><span class="icon"><i class="fa-solid fa-users-gear"></i></span><div><strong>CEO Dilara AkÄ±n</strong> <small>Ä°tibar ve medya Ã¶ncelikli.</small></div></li>
                        <li><span class="icon"><i class="fa-solid fa-microchip"></i></span><div><strong>CTO Furkan Tekin</strong> <small>Teknik altyapÄ±ya hÃ¢kim, seni destekliyor.</small></div></li>
                        <li><span class="icon"><i class="fa-solid fa-user-tie"></i></span><div><strong>CISO Can Ã‡olhak</strong> <small>GÃ¼venlikten sorumlu, panik halinde.</small></div></li>
                        <li><span class="icon"><i class="fa-solid fa-bullhorn"></i></span><div><strong>PR DirektÃ¶rÃ¼ Serap Nur</strong> <small>BasÄ±n kontrolÃ¼nÃ¼ ister.</small></div></li>
                        <li><span class="icon"><i class="fa-solid fa-money-bill-transfer"></i></span><div><strong>Finans DirektÃ¶rÃ¼ Enes Mert</strong> <small>Proje iptali bÃ¼tÃ§e aÃ§Ä±sÄ±ndan felaket olur.</small></div></li>
                    </ul>
                </div>

                <div class="intro-metrics-container">
                    <h3><i class="fa-solid fa-chart-line"></i> Temel Metrikler</h3>
                    <ul>
                        <li><span class="icon" style="color: var(--accent-green);"><i class="fa-solid fa-cloud-arrow-down"></i></span><div><strong>Veri SÄ±zÄ±ntÄ±sÄ± Boyutu</strong> <small>SÄ±zdÄ±rÄ±lan hassas veri miktarÄ±. (BaÅŸlangÄ±Ã§: 0 GB)</small></div></li>
                        <li><span class="icon" style="color: var(--accent-red);"><i class="fa-solid fa-hand-holding-dollar"></i></span><div><strong>Finansal Zarar</strong> <small>Krizin ÅŸirkete maliyeti. (BaÅŸlangÄ±Ã§: â‚º0)</small></div></li>
                        <li><span class="icon" style="color: var(--accent-yellow);"><i class="fa-solid fa-users"></i></span><div><strong>MÃ¼ÅŸteri GÃ¼veni</strong> <small>MÃ¼ÅŸterilerin ÅŸirkete olan inancÄ±. (BaÅŸlangÄ±Ã§: 100)</small></div></li>
                        <li><span class="icon" style="color: var(--accent-blue);"><i class="fa-solid fa-building-shield"></i></span><div><strong>Ä°tibar PuanÄ±</strong> <small>Åirketinizin kamuoyu ve sektÃ¶rdeki imajÄ±. (BaÅŸlangÄ±Ã§: 100)</small></div></li>
                        <li><span class="icon" style="color: var(--accent-pink);"><i class="fa-solid fa-scale-balanced"></i></span><div><strong>Yasal Risk</strong> <small>Yasal uyum ihlali riski (Ã–lÃ§ek: DÃ¼ÅŸÃ¼k-YÃ¼ksek). (BaÅŸlangÄ±Ã§: DÃ¼ÅŸÃ¼k)</small></div></li>
                    </ul>
                </div>
            </div>

            <button class="btn btn-start" id="startButton"><i class="fa-solid fa-play"></i> SimÃ¼lasyonu BaÅŸlat</button>
        </div>

        <div id="intermissionSection" class="centered-page" style="display: none;">
            <h2 id="intermissionTitle"></h2>
            <p id="intermissionText" style="max-width: 600px;"></p>
            <div class="interactive-element" style="width: 100%; max-width: 500px;">
                <h4>Karar Etkileri</h4>
                <div id="intermissionMetrics"></div>
            </div>
            <div class="interactive-element" style="width: 100%; max-width: 500px; border-left-color: var(--accent-blue); margin-top: 20px;">
                <h4>Stratejik DeÄŸerlendirme</h4>
                <p id="strategicText" style="font-size: 1em;"></p>
            </div>
            <button class="btn btn-continue" id="continueButton" style="margin-top: 30px;"><i class="fa-solid fa-forward"></i> Devam Et</button>
        </div>

        <div id="gameContainer" style="display: none;">
            <div id="statusBar">
                <div class="metric"><span><i class="fa-solid fa-cloud-arrow-down"></i> SÄ±zan Veri</span><div class="value" id="status-dataLeakSize">0 GB</div></div>
                <div class="metric"><span><i class="fa-solid fa-hand-holding-dollar"></i> Finansal Zarar</span><div class="value" id="status-financialLoss">â‚º0</div></div>
                <div class="metric"><span><i class="fa-solid fa-users"></i> MÃ¼ÅŸteri GÃ¼veni</span><div class="value" id="status-customerTrust">100</div></div>
                <div class="metric"><span><i class="fa-solid fa-building-shield"></i> Ä°tibar PuanÄ±</span><div class="value" id="status-reputation">100</div></div>
                <div class="metric"><span><i class="fa-solid fa-scale-balanced"></i> Yasal Risk</span><div class="value" id="status-regulatoryRisk">DÃ¼ÅŸÃ¼k</div></div>
                <div class="metric" id="status-timer"><span><i class="fa-solid fa-stopwatch"></i> Kalan SÃ¼re</span><div class="value" id="status-remaining">04:00</div></div>
            </div>
            <div id="game-content">
                
                <div id="day1_alarm" class="section">
                    <h2><i class="fa-solid fa-triangle-exclamation"></i> GÃ¼n 1: Veri SÄ±zÄ±ntÄ±sÄ± AlarmÄ± - Lansmana 72 Saat Kala!</h2>
                    <h3>Sabah 09:00 - GÃ¼venlik Ekibinden Gelen Ã‡aÄŸrÄ± ve OlaÄŸandÄ±ÅŸÄ± Trafik</h3>
                    <p>Sabah, gÃ¼venlik operasyon ekibinden acil bir Ã§aÄŸrÄ±yla gÃ¼ne baÅŸlÄ±yorsun. BaÅŸ Analist, bulut ortamÄ±nÄ±zdaki risk analiz Ã¼rÃ¼nÃ¼nden dÄ±ÅŸarÄ±ya doÄŸru olaÄŸandÄ±ÅŸÄ± veri Ã§ekme talepleri olduÄŸunu raporluyor. Ã–zellikle `Analiz-Verileri-Uretim` adÄ±ndaki veri deposundan normal olmayan bir trafik akÄ±ÅŸÄ± var. Lansmana sadece 72 saat kaldÄ± ve her dakika kritik.</p>
                    <p>SaldÄ±rganÄ±n potansiyel olarak:</p>
                    <ul>
                        <li>Herkese aÃ§Ä±k bÄ±rakÄ±lmÄ±ÅŸ bir veri deposunu,</li>
                        <li>HatalÄ± yapÄ±landÄ±rÄ±lmÄ±ÅŸ bir eriÅŸim iznini,</li>
                        <li>Devre dÄ±ÅŸÄ± kalmÄ±ÅŸ bir ek gÃ¼venlik doÄŸrulamasÄ±nÄ±,</li>
                        <li>Veya korumasÄ±z bir bulut fonksiyonunu kullandÄ±ÄŸÄ± dÃ¼ÅŸÃ¼nÃ¼lÃ¼yor.</li>
                    </ul>
                    <img src="images/alarm.png" alt="Veri sÄ±zÄ±ntÄ±sÄ± alarmÄ± gÃ¶rseli" class="scenario-image">
                    <div class="interactive-element">
                        <h4>KÄ±demli Bulut GÃ¼venliÄŸi UzmanÄ± olarak ilk tepkin ne olacak?</h4>
                        <div class="decision-buttons">
                            <button class="btn" data-decision="d1-a-cut-connection" data-next-section="day1_s3_scan"><i class="fa-solid fa-cut"></i><div class="btn-text">SeÃ§enek A: `Analiz-Verileri-Uretim` deposu ile tÃ¼m dÄ±ÅŸ baÄŸlantÄ±larÄ± derhal kes.<small>SÄ±zÄ±ntÄ±yÄ± anÄ±nda durdurmak iÃ§in hÄ±zlÄ± ve radikal bir mÃ¼dahale yap.</small></div></button>
                            <button class="btn" data-decision="d1-a-monitor-attacker" data-next-section="day1_s3_scan"><i class="fa-solid fa-eye"></i><div class="btn-text">SeÃ§enek B: Sistemleri izlemeye devam ederek saldÄ±rganÄ±n yÃ¶ntemlerini analiz et.<small>SaldÄ±rÄ±nÄ±n doÄŸasÄ±nÄ±, hedeflerini ve kullanÄ±lan zafiyetleri anlamak iÃ§in gizli gÃ¶zlem yap.</small></div></button>
                        </div>
                    </div>
                    <div class="learning-note"><strong>Ã–ÄŸrenme Notu:</strong> Krizin ilk anlarÄ± kritik Ã¶neme sahiptir. HÄ±zlÄ± mÃ¼dahale mi, yoksa istihbarat toplama mÄ±? KararÄ±n hem teknik hem de operasyonel sonuÃ§larÄ± olacak.</div>
                </div>

                <div id="day1_s3_scan" class="section">
                    <h2><i class="fa-solid fa-cloud-arrow-down"></i> GÃ¼n 1: Ã–ÄŸleden Sonra - Depolama Zafiyeti KeÅŸfi</h2>
                    <h3>Ã–ÄŸleden Sonra 15:30 - "Analiz-Verileri-Uretim" Veri Deposu Herkese AÃ§Ä±k!</h3>
                    <p>Ä°lk mÃ¼dahalelerin ardÄ±ndan, ekip `Analiz-Verileri-Uretim` veri deposunun yapÄ±landÄ±rmasÄ±nÄ± derinlemesine incelemeye aldÄ±. Åok edici bir bulguyla karÅŸÄ±laÅŸtÄ±nÄ±z: Veri deposu, yanlÄ±ÅŸlÄ±kla "Herkese AÃ§Ä±k" olarak ayarlanmÄ±ÅŸ! Bu, saldÄ±rganÄ±n doÄŸrudan isteklerle verileri Ã§ekebileceÄŸi anlamÄ±na geliyor. AyrÄ±ca, denetim kayÄ±tlarÄ±nda, bu depodan son 24 saat iÃ§inde **500 GB'tan fazla veri** sÄ±zdÄ±rÄ±ldÄ±ÄŸÄ±na dair kesin kanÄ±tlar bulundu. Bu, finans sektÃ¶rÃ¼ne yÃ¶nelik risk analiz Ã¼rÃ¼nÃ¼nÃ¼zÃ¼n temelini oluÅŸturan hassas analiz algoritmalarÄ±nÄ± ve mÃ¼ÅŸteri test verilerini iÃ§eriyor.</p>
                    <img src="images/bucket.png" alt="Herkese aÃ§Ä±k S3 bucket gÃ¶rseli" class="scenario-image">
                    <div class="interactive-element">
                        <h4>Bu kritik bulgu karÅŸÄ±sÄ±nda bir sonraki acil teknik adÄ±mÄ±n ne olacak?</h4>
                        <div class="decision-buttons">
                            <button class="btn critical" data-decision="d1-s3-close-access" data-next-section="day2_iam_review"><i class="fa-solid fa-lock"></i><div class="btn-text">SeÃ§enek A: `Analiz-Verileri-Uretim` deposunun herkese aÃ§Ä±k eriÅŸimini derhal kapat ve izinleri en kÄ±sÄ±tlÄ± seviyeye getir.<small>En bÃ¼yÃ¼k gÃ¼venlik aÃ§Ä±ÄŸÄ±nÄ± anÄ±nda kapat ve sÄ±zÄ±ntÄ±yÄ± durdur.</small></div></button>
                            <button class="btn" data-decision="d1-s3-scan-all" data-next-section="day2_iam_review"><i class="fa-solid fa-search-plus"></i><div class="btn-text">SeÃ§enek B: Bulut ortamÄ±ndaki tÃ¼m diÄŸer veri depolarÄ±nÄ± da acil olarak gÃ¼venlik taramasÄ±ndan geÃ§ir.<small>Benzer yanlÄ±ÅŸ yapÄ±landÄ±rmalarÄ±n olup olmadÄ±ÄŸÄ±nÄ± tespit etmek iÃ§in kapsamlÄ± bir denetim yap.</small></div></button>
                        </div>
                    </div>
                    <div class="learning-note"><strong>Ã–ÄŸrenme Notu:</strong> YanlÄ±ÅŸ yapÄ±landÄ±rmalar, bulut gÃ¼venliÄŸinin en bÃ¼yÃ¼k zafiyetlerindendir. En kritik varlÄ±klarÄ±n eriÅŸim kontrolleri, sÃ¼rekli denetlenmelidir.</div>
                </div>

                <div id="day2_iam_review" class="section">
                    <h2><i class="fa-solid fa-id-card-clip"></i> GÃ¼n 2: Sabah - Kimlik ve EriÅŸim Felaketi</h2>
                    <h3>Sabah 09:30 - Eski GeliÅŸtiricinin Hayalet HesabÄ± ve Tam Yetki!</h3>
                    <p>Veri deposunun kapatÄ±lmasÄ±yla birlikte, saldÄ±rÄ±nÄ±n baÅŸka bir katmanÄ±nÄ± keÅŸfetmek iÃ§in eriÅŸim kayÄ±tlarÄ±nÄ± incelemeye baÅŸladÄ±nÄ±z. Åirketten aylar Ã¶nce ayrÄ±lan eski bir geliÅŸtiricinin (`developer_cem`) hesabÄ±nÄ±n hala aktif olduÄŸunu ve ÅŸok edici bir ÅŸekilde **tÃ¼m bulut kaynaklarÄ±na tam yetkiye** sahip olduÄŸunu gÃ¶rdÃ¼nÃ¼z! Bu hesabÄ±n, `Analiz-Verileri-Uretim` veri deposuna eriÅŸimden hemen Ã¶nce, yÃ¶netim paneli Ã¼zerinden ÅŸÃ¼pheli iÅŸlemler yaptÄ±ÄŸÄ± tespit edildi. GÃ¶rÃ¼nÃ¼ÅŸe gÃ¶re saldÄ±rgan, bu "hayalet hesabÄ±" kullanarak ilk eriÅŸimi saÄŸlamÄ±ÅŸ.</p>
                    <img src="images/root.png" alt="IAM Root Access gÃ¶rseli" class="scenario-image">
                    <div class="interactive-element">
                        <h4>Bu kritik gÃ¼venlik aÃ§Ä±ÄŸÄ±nÄ± kapatmak ve saldÄ±rganÄ±n daha fazla hareketini engellemek iÃ§in ne yapacaksÄ±n?</h4>
                        <div class="decision-buttons">
                            <button class="btn critical" data-decision="d2-iam-suspend-report" data-next-section="day2_internal_connections"><i class="fa-solid fa-user-slash"></i><div class="btn-text">SeÃ§enek A: `developer_cem` hesabÄ±nÄ± derhal askÄ±ya al ve bulgularÄ± yÃ¶neticilerine acilen bildir.<small>Kritik bir gÃ¼venlik aÃ§Ä±ÄŸÄ±nÄ± kapat, ancak olayÄ± Ã¼st yÃ¶netime raporlayarak sorumluluk al.</small></div></button>
                            <button class="btn" data-decision="d2-iam-delete-quietly" data-next-section="day2_internal_connections"><i class="fa-solid fa-user-minus"></i><div class="btn-text">SeÃ§enek B: `developer_cem` hesabÄ±nÄ± kimseye bildirmeden derhal sil.<small>AÃ§Ä±ÄŸÄ± hÄ±zla kapat, ancak olayla ilgili resmi bir kayÄ±t bÄ±rakmadan ve potansiyel iÃ§ soruÅŸturmayÄ± engellemeden.</small></div></button>
                        </div>
                    </div>
                    <div class="learning-note"><strong>Ã–ÄŸrenme Notu:</strong> EriÅŸim izinleri ve eski hesap yÃ¶netimi, bulut gÃ¼venliÄŸinin temelini oluÅŸturur. En kÃ¼Ã§Ã¼k bir zafiyet dahi, tÃ¼m sisteme tam eriÅŸime yol aÃ§abilir.</div>
                </div>

                <div id="day2_internal_connections" class="section">
                    <h2><i class="fa-solid fa-arrows-turn-right"></i> GÃ¼n 2: Ã–ÄŸleden Sonra - Ä°Ã§eriden ÅÃ¼pheli BaÄŸlantÄ±lar</h2>
                    <h3>Ã–ÄŸleden Sonra 14:00 - Bir SaldÄ±rÄ± Merkezi FÄ±sÄ±ltÄ±sÄ± mÄ±?</h3>
                    <p>Eski geliÅŸtirici hesabÄ±nÄ±n kullanÄ±lmasÄ±, saldÄ±rganÄ±n sadece dÄ±ÅŸarÄ±dan veri sÄ±zdÄ±rmadÄ±ÄŸÄ±nÄ±, aynÄ± zamanda iÃ§ aÄŸÄ±nÄ±zda da kalÄ±cÄ± olmaya Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± dÃ¼ÅŸÃ¼ndÃ¼rÃ¼yor. AÄŸ trafiÄŸi kayÄ±tlarÄ±nda, iÃ§erideki bir bilgisayardan (`10.0.0.42`), ÅŸifreli ve sÃ¼rekli olarak dÄ±ÅŸarÄ±daki bir Telegram sunucusuna veri aktarÄ±mÄ± olduÄŸunu tespit ettiniz. Bu bilgisayar, Finans DepartmanÄ±'ndaki bir geliÅŸtiriciye aitmiÅŸ.</p>
                    <p>Bu durum, saldÄ±rganÄ±n ele geÃ§irdiÄŸi bir ÅŸirket iÃ§i cihazÄ±, bir **saldÄ±rÄ± kontrol merkezi** olarak kullandÄ±ÄŸÄ±na iÅŸaret ediyor olabilir. Ancak, bu aynÄ± zamanda Finans DepartmanÄ±'ndaki geliÅŸtiricinin "izinli" bir test veya araÅŸtÄ±rma yapÄ±yor olma ihtimalini de barÄ±ndÄ±rÄ±yor. CTO Furkan Tekin, departmanlarÄ±nÄ±n sÄ±k sÄ±k dÄ±ÅŸ hizmetlerle testler yaptÄ±ÄŸÄ±nÄ± belirtiyor.</p>
                    <img src="images/data.png" alt="Telegram veri aktarÄ±mÄ± gÃ¶rseli" class="scenario-image">
                    <div class="interactive-element">
                        <h4>Bu ÅŸÃ¼pheli iÃ§ baÄŸlantÄ±yÄ± nasÄ±l ele alacaksÄ±n?</h4>
                        <div class="decision-buttons">
                            <button class="btn" data-decision="d2-internal-isolate-device" data-next-section="day3_media_leak"><i class="fa-solid fa-plug-circle-xmark"></i><div class="btn-text">SeÃ§enek A: ÅÃ¼pheli cihazÄ± derhal aÄŸdan izole et ve adli inceleme baÅŸlat.<small>Potansiyel iÃ§ tehdidi anÄ±nda durdur, ancak operasyonel aksaklÄ±ÄŸa ve Ã§alÄ±ÅŸan moraline etki edebilir.</small></div></button>
                            <button class="btn critical" data-decision="d2-internal-confront-dev" data-next-section="day3_media_leak"><i class="fa-solid fa-user-secret"></i><div class="btn-text">SeÃ§enek B: Finans departmanÄ±ndaki geliÅŸtiriciyle doÄŸrudan ve gizli bir gÃ¶rÃ¼ÅŸme ayarla.<small>ÅÃ¼pheli baÄŸlantÄ±nÄ±n nedenini anlamak iÃ§in doÄŸrudan bilgi topla, ancak geliÅŸtiriciyi uyarabilir veya iÅŸbirliÄŸini kaybetme riski taÅŸÄ±rsÄ±n.</small></div></button>
                            <button class="btn" data-decision="d2-internal-monitor-further" data-next-section="day3_media_leak"><i class="fa-solid fa-chart-line"></i><div class="btn-text">SeÃ§enek C: CihazÄ± izlemeye devam et ve daha fazla bilgi topla.<small>SaldÄ±rganÄ±n (veya geliÅŸtiricinin) niyetini anlamak iÃ§in gÃ¶zlemi sÃ¼rdÃ¼r, ancak veri sÄ±zÄ±ntÄ±sÄ±nÄ±n devam etme riski var.</small></div></button>
                        </div>
                    </div>
                    <div class="learning-note"><strong>Ã–ÄŸrenme Notu:</strong> Ä°Ã§ tehditler, tespiti ve yÃ¶netimi en zor olanlardÄ±r. YanlÄ±ÅŸ kararlar, hem gÃ¼venlik hem de ÅŸirket iÃ§i gÃ¼ven Ã¼zerinde yÄ±kÄ±cÄ± etkilere sahip olabilir.</div>
                </div>

                <div id="day3_media_leak" class="section">
                    <h2><i class="fa-solid fa-newspaper"></i> GÃ¼n 3: Sabah - Medya SÄ±zÄ±ntÄ±sÄ± ve Ä°tibar Felaketi</h2>
                    <h3>Sabah 08:00 - Sosyal Medyada GÃ¼ndem: "Ã‡OLHAK ÃœrÃ¼nÃ¼nde GÃ¼venlik AÃ§Ä±ÄŸÄ±!"</h3>
                    <p>Tam iÃ§ soruÅŸturman devam ederken, kabus senaryosu gerÃ§ekleÅŸir: Sosyal medyada yÃ¼ksek takipÃ§ili bir teknoloji gazetecisi, "Ã‡OLHAK Teknoloji'nin Ã§ok beklenen Ã¼rÃ¼n projesinde bÃ¼yÃ¼k bir gÃ¼venlik aÃ§Ä±ÄŸÄ± ve mÃ¼ÅŸteri veri sÄ±zÄ±ntÄ±sÄ± iddialarÄ±!" baÅŸlÄ±ÄŸÄ±yla bir paylaÅŸÄ±m yapÄ±yor. PaylaÅŸÄ±m hÄ±zla viral oluyor ve medya kuruluÅŸlarÄ± size ulaÅŸmaya baÅŸlÄ±yor. Lansmana sadece saatler kala, CEO Dilara AkÄ±n sizi acilen ofisine Ã§aÄŸÄ±rÄ±yor. YÃ¼zÃ¼nde ciddi bir ifade var: *"Bu bir felaket! Hemen bir aÃ§Ä±klama yapmalÄ±yÄ±z. Ä°tibarÄ±mÄ±z yerle bir oluyor! Ne yapmalÄ±yÄ±z?"*</p>
                    <img src="images/media.png" alt="Medya sÄ±zÄ±ntÄ±sÄ± gÃ¶rseli" class="scenario-image">
                    <div class="interactive-element">
                        <h4>PR DirektÃ¶rÃ¼ Serap Nur ve Hukuk MÃ¼ÅŸaviri ile birlikte, bu medya krizini nasÄ±l yÃ¶netecek ve kamuoyuna nasÄ±l bir mesaj vereceksin?</h4>
                        <div class="decision-buttons">
                            <button class="btn" data-decision="d3-media-full-disclosure" data-next-section="day3_management_decision"><i class="fa-solid fa-check-double"></i><div class="btn-text">SeÃ§enek A: Tam ÅeffaflÄ±kla Hemen BasÄ±na AÃ§Ä±kla.<small>OlayÄ± tÃ¼m detaylarÄ±yla, sÄ±zÄ±ntÄ±nÄ±n nedenini ve alÄ±nan Ã¶nlemleri ÅŸeffafÃ§a kamuoyuna duyur.</small></div></button>
                            <button class="btn critical" data-decision="d3-media-deny-ignore" data-next-section="day3_management_decision"><i class="fa-solid fa-ban"></i><div class="btn-text">SeÃ§enek B: Ä°ddialarÄ± Kesinlikle Reddet ve Medyayla TemasÄ± Engelle.<small>SÄ±zÄ±ntÄ± iddialarÄ±nÄ± yalanla ve krizin bÃ¼yÃ¼mesini Ã¶nlemek iÃ§in medyadan uzak dur.</small></div></button>
                            <button class="btn" data-decision="d3-media-controlled-leak" data-next-section="day3_management_decision"><i class="fa-solid fa-user-secret"></i><div class="btn-text">SeÃ§enek C: SÄ±zÄ±ntÄ±nÄ±n KontrollÃ¼ Bir Versiyonunu YayÄ±nla.<small>Hassas detaylarÄ± atlayarak, olayÄ± Ã¶nemsiz gÃ¶steren, kontrollÃ¼ bir aÃ§Ä±klama sÄ±zdÄ±r.</small></div></button>
                        </div>
                    </div>
                    <div class="learning-note"><strong>Ã–ÄŸrenme Notu:</strong> Medya krizi, siber saldÄ±rÄ±nÄ±n en yÄ±kÄ±cÄ± sonuÃ§larÄ±ndan biri olabilir. Ä°tibar yÃ¶netimi, ÅŸeffaflÄ±k, hÄ±z ve doÄŸru mesaj, kamuoyu gÃ¼venini yeniden kazanmak iÃ§in anahtardÄ±r.</div>
                </div>

                <div id="day3_management_decision" class="section">
                    <h2><i class="fa-solid fa-users-viewfinder"></i> GÃ¼n 3: Ã–ÄŸleden Sonra - YÃ¶netim Kurulu ToplantÄ±sÄ± ve Kritik Karar</h2>
                    <h3>Ã–ÄŸleden Sonra 13:00 - Lansman Ä°ptali mi?</h3>
                    <p>Medya krizinin ortasÄ±nda, yÃ¶netim kurulu acil bir toplantÄ± iÃ§in bir araya gelir. Herkesin farklÄ± bir Ã¶nceliÄŸi vardÄ±r ve tansiyon yÃ¼ksektir. Karar anÄ± gelmiÅŸtir ve herkes sana bakÄ±yor. Ve toplantÄ±nÄ±n sonunda sana 2 seÃ§enek sundular:</p>
                    <img src="images/board.png" alt="YÃ¶netim kurulu toplantÄ±sÄ± gÃ¶rseli" class="scenario-image">
                    <div class="interactive-element">
                        <h4>KÄ±demli Bulut GÃ¼venliÄŸi UzmanÄ± olarak, tÃ¼m bu baskÄ±lar altÄ±nda, ÅŸirketin kaderini belirleyecek son bÃ¼yÃ¼k teknik ve stratejik kararÄ± nasÄ±l vereceksin?</h4>
                        <div class="decision-buttons">
                            <button class="btn critical" data-decision="d3-m-take-offline" data-next-section="day3_regulatory_threat"><i class="fa-solid fa-power-off"></i><div class="btn-text">SeÃ§enek A: TÃ¼m kritik sistemleri derhal kapat ve kapsamlÄ± bir gÃ¼venlik denetimi ve temizliÄŸi yap.<small>En gÃ¼venli yolu seÃ§, ancak lansmanÄ± sÃ¼resiz ertele ve bÃ¼yÃ¼k finansal kayÄ±plara yol aÃ§.</small></div></button>
                            <button class="btn" data-decision="d3-m-patch-continue" data-next-section="day3_regulatory_threat"><i class="fa-solid fa-wrench"></i><div class="btn-text">SeÃ§enek B: HÄ±zlÄ± gÃ¼venlik yamalarÄ± uygula ve Ã¼rÃ¼n lansmanÄ±na devam et.<small>Riski kabul et, lansmanÄ± kurtar, ancak gizli zafiyetler veya kalan saldÄ±rganlar iÃ§in risk altÄ±nda ol.</small></div></button>
                        </div>
                    </div>
                    <div class="learning-note"><strong>Ã–ÄŸrenme Notu:</strong> Kritik iÅŸ kararlarÄ±, teknik gÃ¼venlik riskleriyle doÄŸrudan Ã§eliÅŸebilir. Bu tÃ¼r anlarda dengeyi bulmak ve yÃ¶netimle etkin iletiÅŸim kurmak hayati Ã¶nem taÅŸÄ±r.</div>
                </div>

                <div id="day3_regulatory_threat" class="section">
                    <h2><i class="fa-solid fa-gavel"></i> GÃ¼n 3: AkÅŸam - Yasal YÃ¼kÃ¼mlÃ¼lÃ¼kler</h2>
                    <h3>AkÅŸam 18:00 - Hukuk MÃ¼ÅŸavirinden Ã‡aÄŸrÄ±</h3>
                    <p>Krizin teknik ve yÃ¶netimsel boyutlarÄ±yla uÄŸraÅŸÄ±rken, Hukuk MÃ¼ÅŸaviri Zeynep Kaya'dan endiÅŸeli bir Ã§aÄŸrÄ± alÄ±yorsun: *"Elimizdeki verilere gÃ¶re, sÄ±zdÄ±rÄ±lan mÃ¼ÅŸteri bilgileri KVKK ve GDPR kapsamÄ±nda hassas veri niteliÄŸinde. Bu, bize devasa para cezalarÄ± ve yasal davalar getirebilir. Ä°lgili kurumlara 48 saat iÃ§inde resmi veri ihlali bildirimi yapmamÄ±z gerekiyor. Bu durum, kamuoyundaki algÄ±mÄ±zÄ± ve yasal pozisyonumuzu doÄŸrudan etkileyecek. Ne yapÄ±yoruz?"*</p>
                    <img src="images/threat.png" alt="RegÃ¼lasyon tehdidi gÃ¶rseli" class="scenario-image">
                    <div class="interactive-element">
                        <h4>Bu yasal yÃ¼kÃ¼mlÃ¼lÃ¼k ve itibar riskini nasÄ±l ele alacaksÄ±n?</h4>
                            <div class="decision-buttons">
                            <button class="btn" data-decision="d3-e-officially-report" data-next-section="finalSection"><i class="fa-solid fa-file-invoice"></i><div class="btn-text">SeÃ§enek A: Yasal YÃ¼kÃ¼mlÃ¼lÃ¼kleri Yerine Getirerek Veri Ä°hlalini Resmi Olarak Bildir.<small>ÅeffaflÄ±ÄŸÄ± ve yasal uyumu Ã¶nceliklendir, ancak bu, ÅŸirketin itibarÄ±nÄ± daha fazla etkileyebilir.</small></div></button>
                            <button class="btn critical" data-decision="d3-e-internal-incident" data-next-section="finalSection"><i class="fa-solid fa-user-secret"></i><div class="btn-text">SeÃ§enek B: OlayÄ± Ä°Ã§ KaynaklÄ± KÃ¼Ã§Ã¼k Bir Olay Olarak GÃ¶ster ve Resmi Bildirimi Ertele.<small>KÄ±sa vadede paniÄŸi Ã¶nle, ancak uzun vadede yasal ve itibari riskleri artÄ±rabilir.</small></div></button>
                        </div>
                    </div>
                    <div class="learning-note"><strong>Ã–ÄŸrenme Notu:</strong> Veri ihlallerinde yasal uyumluluk, sadece cezalardan kaÃ§Ä±nmakla kalmaz, aynÄ± zamanda ÅŸirketin etik duruÅŸunu ve mÃ¼ÅŸteri gÃ¼venini de yansÄ±tÄ±r.</div>
                </div>

                <div id="finalSection" class="section centered-page" style="display: none;">
                    <h2><i class="fa-solid fa-chart-line"></i> Kriz SonrasÄ± DeÄŸerlendirme Raporu</h2>
                    <p>SimÃ¼lasyon tamamlandÄ±. Kriz yÃ¶netimi performansÄ±nÄ±zÄ±n detaylÄ± dÃ¶kÃ¼mÃ¼ aÅŸaÄŸÄ±dadÄ±r.</p>
                    <div id="performance-badge-container"><span id="performance-badge"></span></div>
                    <div class="final-metrics" id="finalMetricsContainer"></div>
                    <div class="post-crisis-layout">
                        <div class="event-timeline">
                            <h3><i class="fa-solid fa-timeline"></i> Karar Zaman TÃ¼neli</h3>
                            <ul id="decision-timeline-list"></ul>
                        </div>
                        <div class="strategic-debrief">
                            <h3><i class="fa-solid fa-lightbulb"></i> Stratejik DeÄŸerlendirme</h3>
                            <div id="strategic-debrief-content">
                                </div>
                            <h3 style="margin-top: 20px;"><i class="fa-solid fa-calculator"></i> Puan DÃ¶kÃ¼mÃ¼</h3>
                            <ul id="score-breakdown">
                                </ul>
                        </div>
                    </div>
                    <div class="decision-buttons" style="margin-top: 40px; display:flex; gap:12px; flex-wrap:wrap; justify-content:center;">
                        <button class="btn btn-start" onclick="location.reload()"><i class="fa-solid fa-arrow-rotate-right"></i> SimÃ¼lasyonu Yeniden BaÅŸlat</button>
                        <button class="btn" id="openLeaderboardBtn"><i class="fa-solid fa-trophy"></i> Liderlik Tablosu</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="lb-overlay" id="leaderboardOverlay" role="dialog" aria-modal="true" aria-labelledby="lbTitle">
        <div class="lb-modal">
            <h2 id="lbTitle" class="lb-title"><i class="fa-solid fa-trophy"></i> Liderlik Tablosu</h2>
            <div class="lb-tablewrap">
                <table class="lb-table" id="leaderboardTable">
                    <thead>
                        <tr><th>#</th><th>Ä°sim</th><th>Puan</th><th>Tarih</th></tr>
                    </thead>
                    <tbody id="leaderboardBody">
                        <tr><td colspan="4">YÃ¼kleniyorâ€¦</td></tr>
                    </tbody>
                </table>
            </div>
            <div class="lb-actions">
                <button class="lb-refresh" id="lbRefreshBtn"><i class="fa-solid fa-arrows-rotate"></i> Yenile</button>
                <button class="lb-close" id="lbCloseBtn">Kapat</button>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            window.game = {
                score: { dataLeakSize: 0, financialLoss: 0, customerTrust: 100, reputation: 100, regulatoryRisk: 'DÃ¼ÅŸÃ¼k' },
                state: {
                    currentSectionId: 'start',
                    decisionHistory: [],
                    totalScore: null,
                    madeOfficialReport: false // Yasal bildirim kararÄ±nÄ± takip etmek iÃ§in eklendi
                },
                elements: {},
                timer: {
                    total: 240,
                    remaining: 240,
                    intervalId: null,
                    running: false
                },
                
                decisionInfo: {
                    'd1-a-cut-connection': { title: "DÄ±ÅŸ BaÄŸlantÄ±larÄ± Kes", text: "`Analiz-Verileri-Uretim` deposu ile tÃ¼m dÄ±ÅŸ baÄŸlantÄ±lar derhal kesildi. SÄ±zÄ±ntÄ± anÄ±nda durduruldu, ancak ne kadar verinin sÄ±zdÄ±ÄŸÄ± veya saldÄ±rganÄ±n kimliÄŸi hakkÄ±nda daha az bilgiye sahipsin.", strat: "Veri sÄ±zÄ±ntÄ±larÄ±nda hÄ±zlÄ± izolasyon, hasarÄ± minimize etmek iÃ§in kritik bir adÄ±mdÄ±r. Ancak, bu, saldÄ±rganÄ±n yÃ¶ntemleri hakkÄ±nda istihbarat toplama fÄ±rsatÄ±nÄ± kaÃ§Ä±rmana neden olabilir.", changes: { dataLeakSize: 50, financialLoss: 25000, customerTrust: -5, reputation: -3 }, impact: 'Positive' },
                    'd1-a-monitor-attacker': { title: "SaldÄ±rganÄ± Ä°zle", text: "Sistemleri izlemeye devam ederek saldÄ±rganÄ±n yÃ¶ntemlerini analiz ettin. Bu sayede saldÄ±rganÄ±n kullandÄ±ÄŸÄ± zafiyeti (aÃ§Ä±k veri deposu) ve sÄ±zdÄ±rdÄ±ÄŸÄ± veri tÃ¼rlerini net bir ÅŸekilde tespit ettin. Ancak bu sÄ±rada daha fazla veri sÄ±zdÄ±.", strat: "SaldÄ±rganÄ± izlemek, gelecekteki savunmalar iÃ§in deÄŸerli istihbarat saÄŸlar. Ancak bu taktik, daha fazla veri sÄ±zÄ±ntÄ±sÄ± riskini iÃ§erir ve bÃ¼yÃ¼k bir kumar olabilir.", changes: { dataLeakSize: 150, financialLoss: 50000, customerTrust: -15, reputation: -10 }, impact: 'Negative' },
                    'd1-s3-close-access': { title: "Herkese AÃ§Ä±k EriÅŸimi Kapat", text: "`Analiz-Verileri-Uretim` veri deposunun herkese aÃ§Ä±k eriÅŸimini derhal kapattÄ±n ve izinlerini en kÄ±sÄ±tlÄ± seviyeye getirdin. Bu, en bÃ¼yÃ¼k gÃ¼venlik aÃ§Ä±ÄŸÄ±nÄ± anÄ±nda kapattÄ± ve sÄ±zÄ±ntÄ±yÄ± durdurdu.", strat: "YanlÄ±ÅŸ yapÄ±landÄ±rmalarÄ±n hÄ±zlÄ± bir ÅŸekilde giderilmesi, bulut gÃ¼venliÄŸinde en etkili savunma yÃ¶ntemlerinden biridir. Bu, veri sÄ±zÄ±ntÄ±sÄ±nÄ± hÄ±zla durdurur.", changes: { dataLeakSize: 20, financialLoss: 10000, customerTrust: +5, reputation: +5 }, impact: 'Positive' },
                    'd1-s3-scan-all': { title: "TÃ¼m Veri DepolarÄ±nÄ± Tara", text: "Bulut ortamÄ±ndaki tÃ¼m diÄŸer veri depolarÄ±nÄ± da acil olarak gÃ¼venlik taramasÄ±ndan geÃ§irdin. Bu, baÅŸka 2 potansiyel yanlÄ±ÅŸ yapÄ±landÄ±rma tespit etmene olanak saÄŸladÄ±, ancak `Analiz-Verileri-Uretim` deposundaki sÄ±zÄ±ntÄ± bir sÃ¼re daha devam etti.", strat: "KapsamlÄ± denetim, benzer zafiyetlerin tespit edilmesi iÃ§in Ã¶nemlidir. Ancak, mevcut krizi durdurmada Ã¶nceliÄŸi geciktirebilir.", changes: { dataLeakSize: 100, financialLoss: 30000, customerTrust: -10, reputation: -7 }, impact: 'Neutral' },
                    'd2-iam-suspend-report': { title: "EriÅŸim HesabÄ±nÄ± AskÄ±ya Al ve Raporla", text: "`developer_cem` hesabÄ±nÄ± derhal askÄ±ya aldÄ±n ve bulgularÄ± yÃ¶neticilerine acilen bildirdin. Bu, gÃ¼venlik aÃ§Ä±ÄŸÄ±nÄ± kapattÄ± ve yÃ¶netimi olaya dahil etti, ancak iÃ§ gerilimi artÄ±rdÄ±.", strat: "EriÅŸim zafiyetlerinde hÄ±zlÄ± mÃ¼dahale ve ÅŸeffaf raporlama, hem teknik Ã§Ã¶zÃ¼mÃ¼ saÄŸlar hem de kurumsal risk yÃ¶netimini destekler.", changes: { financialLoss: 5000, customerTrust: -2, reputation: -1 }, impact: 'Positive' },
                    'd2-iam-delete-quietly': { title: "EriÅŸim HesabÄ±nÄ± Sessizce Sil", text: "`developer_cem` hesabÄ±nÄ± kimseye bildirmeden derhal sildin. AÃ§Ä±ÄŸÄ± hÄ±zla kapattÄ±n ve olayÄ± Ã¶rtbas etmeye Ã§alÄ±ÅŸtÄ±n. Bu, kÄ±sa vadede paniÄŸi Ã¶nledi ancak uzun vadede yasal riskleri ve gÃ¼ven eksikliÄŸini artÄ±rdÄ±.", strat: "Gizlilik ve hÄ±zlÄ± Ã§Ã¶zÃ¼m bazen cazip gelse de, siber krizlerde ÅŸeffaflÄ±k ve doÄŸru kayÄ±t tutma yasal ve etik aÃ§Ä±dan hayati Ã¶neme sahiptir.", changes: { financialLoss: 20000, customerTrust: -10, reputation: -8, regulatoryRisk: 'Orta' }, impact: 'Negative' },
                    'd2-internal-isolate-device': { title: "ÅÃ¼pheli CihazÄ± Ä°zole Et", text: "Finans DepartmanÄ±'ndaki ÅŸÃ¼pheli cihazÄ± derhal aÄŸdan izole ettin ve adli inceleme baÅŸlattÄ±n. Bu, potansiyel iÃ§ tehdidi anÄ±nda durdurdu ve daha fazla veri sÄ±zÄ±ntÄ±sÄ±nÄ± engelledi. Ancak geliÅŸtiricinin iÅŸi aksadÄ± ve moralini dÃ¼ÅŸÃ¼rdÃ¼.", strat: "Ä°Ã§ tehdit ÅŸÃ¼phesinde hÄ±zlÄ± izolasyon, yayÄ±lÄ±mÄ± durdurmak iÃ§in Ã¶nemlidir. Ancak, operasyonel etkiyi ve insan faktÃ¶rÃ¼nÃ¼ gÃ¶z Ã¶nÃ¼nde bulundurmalÄ±sÄ±n.", changes: { dataLeakSize: 0, financialLoss: 10000, customerTrust: -2, reputation: -1 }, impact: 'Positive' },
                    'd2-internal-confront-dev': { title: "GeliÅŸtiriciyle YÃ¼zleÅŸ", text: "Finans departmanÄ±ndaki geliÅŸtiriciyle doÄŸrudan ve gizli bir gÃ¶rÃ¼ÅŸme ayarladÄ±n. GeliÅŸtirici, kiÅŸisel bir projede kullandÄ±ÄŸÄ± bir test aracÄ±yla Telegram'a veri gÃ¶nderdiÄŸini itiraf etti. Bu sana Ã¶nemli bir iÃ§gÃ¶rÃ¼ saÄŸladÄ± ancak ÅŸirket iÃ§i gÃ¼veni zedeledi.", strat: "DoÄŸrudan gÃ¶rÃ¼ÅŸme, insan istihbaratÄ± iÃ§in deÄŸerlidir ancak potansiyel olarak tehdidi uyarabilir veya Ã§atÄ±ÅŸmaya yol aÃ§abilir. Etik sÄ±nÄ±rlar Ã¶nemlidir.", changes: { dataLeakSize: 50, financialLoss: 5000, customerTrust: -5, reputation: -3 }, impact: 'Neutral' },
                    'd2-internal-monitor-further': { title: "CihazÄ± Ä°zlemeye Devam Et", text: "CihazÄ± izlemeye devam ettin ve daha fazla bilgi topladÄ±n. Bu sÃ¼reÃ§te cihazdan kritik dÃ¼zeyde veri sÄ±zÄ±ntÄ±sÄ± devam etti, ancak sana gelecekteki saldÄ±rÄ±lara karÅŸÄ± deÄŸerli savunma stratejileri geliÅŸtirmende yardÄ±mcÄ± olacak detaylÄ± istihbarat topladÄ±n.", strat: "GÃ¶zlem ve istihbarat toplama, uzun vadede daha iyi savunma stratejileri geliÅŸtirmek iÃ§in Ã¶nemlidir. Ancak bu sÃ¼reÃ§, aktif bir tehdit durumunda ciddi veri kaybÄ± riskini artÄ±rÄ±r.", changes: { dataLeakSize: 200, financialLoss: 30000, customerTrust: -20, reputation: -15 }, impact: 'Negative' },
                    'd3-media-full-disclosure': { title: "Tam ÅeffaflÄ±kla Hemen AÃ§Ä±kla", text: "OlayÄ± tÃ¼m detaylarÄ±yla, sÄ±zÄ±ntÄ±nÄ±n nedenini (yanlÄ±ÅŸ yapÄ±landÄ±rma), alÄ±nan Ã¶nlemleri ve mÃ¼ÅŸteri verilerinin etkilenme durumunu ÅŸeffafÃ§a kamuoyuna duyurdun. Bu, baÅŸlangÄ±Ã§ta bÃ¼yÃ¼k bir medya fÄ±rtÄ±nasÄ± yaratsa da, uzun vadede ÅŸirketine olan gÃ¼veni artÄ±rdÄ±.", strat: "Kriz iletiÅŸiminde tam ÅŸeffaflÄ±k, kÄ±sa vadeli ÅŸoku artÄ±rabilir ancak uzun vadede gÃ¼ven ve itibarÄ± gÃ¼Ã§lendirir. DÃ¼rÃ¼stlÃ¼k, en iyi politikadÄ±r.", changes: { financialLoss: 100000, customerTrust: +10, reputation: +15, regulatoryRisk: 'DÃ¼ÅŸÃ¼k' }, impact: 'Positive' },
                    'd3-media-deny-ignore': { title: "Ä°ddialarÄ± Reddet ve Medyayla TemasÄ± Engelle", text: "SÄ±zÄ±ntÄ± iddialarÄ±nÄ± yalanladÄ±n ve krizin bÃ¼yÃ¼mesini Ã¶nlemek iÃ§in medyadan uzak durdun. Bu, kÄ±sa vadede haber akÄ±ÅŸÄ±nÄ± yavaÅŸlatsa da, gerÃ§ekler ortaya Ã§Ä±ktÄ±ÄŸÄ±nda ÅŸirketin itibarÄ±nÄ± geri dÃ¶nÃ¼lmez ÅŸekilde zedeledi ve yasal soruÅŸturmalarÄ± tetikledi.", strat: "GerÃ§ekleri inkar etmek, kÄ±sa vadede durumu 'idare' etse de, modern dÃ¼nyada bilginin yayÄ±lma hÄ±zÄ± gÃ¶z Ã¶nÃ¼ne alÄ±ndÄ±ÄŸÄ±nda uzun vadeli ve daha bÃ¼yÃ¼k felaketlere yol aÃ§ar.", changes: { financialLoss: 500000, customerTrust: -40, reputation: -30, regulatoryRisk: 'YÃ¼ksek' }, impact: 'Negative' },
                    'd3-media-controlled-leak': { title: "SÄ±zÄ±ntÄ±nÄ±n KontrollÃ¼ Bir Versiyonunu YayÄ±nla", text: "Hassas detaylarÄ± atlayarak, olayÄ± Ã¶nemsiz gÃ¶steren, kontrollÃ¼ bir aÃ§Ä±klama sÄ±zdÄ±rdÄ±n. Bu, halkla iliÅŸkiler ekibinin baskÄ±sÄ±nÄ± azaltsa da, gerÃ§ekler zamanla ortaya Ã§Ä±ktÄ±ÄŸÄ±nda mÃ¼ÅŸteri gÃ¼venini sarstÄ± ve ÅŸirketin ÅŸeffaflÄ±k algÄ±sÄ±nÄ± zedeledi.", strat: "KÄ±smi ÅŸeffaflÄ±k, geÃ§ici olarak durumu yatÄ±ÅŸtÄ±rabilir. Ancak, bilgi boÅŸluklarÄ± spekÃ¼lasyonlara ve daha bÃ¼yÃ¼k ÅŸÃ¼pheye yol aÃ§arak uzun vadeli itibar kaybÄ±na neden olabilir.", changes: { financialLoss: 250000, customerTrust: -20, reputation: -15, regulatoryRisk: 'Orta' }, impact: 'Neutral' },
                    'd3-m-take-offline': { title: "TÃ¼m Kritik Sistemleri Kapat", text: "TÃ¼m kritik sistemleri derhal kapattÄ±n ve kapsamlÄ± bir gÃ¼venlik denetimi ile temizlik baÅŸlattÄ±n. Bu, Ã¼rÃ¼n lansmanÄ±nÄ± sÃ¼resiz erteledi ve bÃ¼yÃ¼k finansal kayÄ±plara yol aÃ§tÄ±, ancak sÄ±zÄ±ntÄ±nÄ±n tamamen durmasÄ±nÄ± ve gelecekteki gÃ¼venliÄŸi saÄŸladÄ±.", strat: "Kritik bir ihlalde radikal Ã¶nlemler, tam gÃ¼venliÄŸi garanti edebilir. Ancak bu, ciddi operasyonel ve finansal maliyetleri beraberinde getirir. Ä°ÅŸ sÃ¼rekliliÄŸi ile gÃ¼venlik arasÄ±nda zor bir denge.", changes: { dataLeakSize: +20, financialLoss: 1000000, customerTrust: -30, reputation: -20, regulatoryRisk: 'DÃ¼ÅŸÃ¼k' }, impact: 'Negative' },
                    'd3-m-patch-continue': { title: "HÄ±zlÄ± Yamalar Uygula ve Lansmana Devam Et", text: "HÄ±zlÄ± gÃ¼venlik yamalarÄ± uyguladÄ±n ve Ã¼rÃ¼n lansmanÄ±na devam etme kararÄ± aldÄ±n. Bu, lansmanÄ± kurtardÄ± ve finansal kayÄ±plarÄ± azalttÄ±, ancak sistemde gizli zafiyetler veya kalan saldÄ±rganlar iÃ§in risk altÄ±nda olunduÄŸu anlamÄ±na geliyor.", strat: "Risk iÅŸtahÄ± ve iÅŸ Ã¶ncelikleri doÄŸrultusunda hÄ±zlÄ± Ã§Ã¶zÃ¼mler uygulamak mÃ¼mkÃ¼ndÃ¼r. Ancak bu, siber riskin tamamen ortadan kalkmadÄ±ÄŸÄ±, sadece azaltÄ±ldÄ±ÄŸÄ± anlamÄ±na gelir ve gelecekteki tehditler iÃ§in bir kumar olabilir.", changes: { dataLeakSize: +50, financialLoss: 200000, customerTrust: +5, reputation: +5, regulatoryRisk: 'Orta' }, impact: 'Neutral' },
                    'd3-e-officially-report': { title: "Veri Ä°hlalini Resmi Olarak Bildir", text: "Yasal yÃ¼kÃ¼mlÃ¼lÃ¼kleri yerine getirerek veri ihlalini ilgili kurumlara resmi olarak bildirdin. Bu, ÅŸirketin ÅŸeffaflÄ±ÄŸÄ±nÄ± ve yasalara uyumunu gÃ¶sterdi, ancak medya ve kamuoyu baskÄ±sÄ±nÄ± artÄ±rdÄ± ve potansiyel para cezalarÄ±nÄ±n Ã¶nÃ¼nÃ¼ aÃ§tÄ±.", strat: "Yasal uyumluluk ve ÅŸeffaflÄ±k, uzun vadeli itibar ve gÃ¼ven iÃ§in hayati Ã¶neme sahiptir. KÄ±sa vadeli zorluklara raÄŸmen doÄŸru olanÄ± yapmak, ÅŸirketin etik duruÅŸunu gÃ¼Ã§lendirir.", changes: { financialLoss: 50000, customerTrust: +10, reputation: +5, regulatoryRisk: 'DÃ¼ÅŸÃ¼k' }, impact: 'Positive', clue: 'madeOfficialReport' },
                    'd3-e-internal-incident': { title: "OlayÄ± Ã–nemsiz GÃ¶stererek Bildirimi Ertele", text: "OlayÄ± iÃ§ kaynaklÄ± kÃ¼Ã§Ã¼k bir gÃ¼venlik olayÄ± olarak gÃ¶stermeye ve resmi bildirimi ertelemeye karar verdin. Bu, kÄ±sa vadede paniÄŸi ve yasal sÃ¼reÃ§leri engelledi, ancak uzun vadede ÅŸirketin itibarÄ±nÄ± geri dÃ¶nÃ¼lmez ÅŸekilde zedeledi ve Ã§ok daha aÄŸÄ±r yasal sonuÃ§lara yol aÃ§ma riski taÅŸÄ±yor.", strat: "GerÃ§ekleri saptÄ±rmak veya gizlemek, kÄ±sa vadede fayda saÄŸlayabilir, ancak modern denetim ve ÅŸeffaflÄ±k beklentileri karÅŸÄ±sÄ±nda uzun vadede felaketle sonuÃ§lanÄ±r. GÃ¼veni kaybedersin.", changes: { financialLoss: 150000, customerTrust: -20, reputation: -15, regulatoryRisk: 'Ã‡ok YÃ¼ksek' }, impact: 'Negative' },
                },

                setup() {
                    this.elements = {
                        intro: document.getElementById('introSection'), 
                        game: document.getElementById('gameContainer'), 
                        gameContent: document.getElementById('game-content'),
                        startButton: document.getElementById('startButton'), 
                        intermission: document.getElementById('intermissionSection'),
                        intermissionTitle: document.getElementById('intermissionTitle'), 
                        intermissionText: document.getElementById('intermissionText'),
                        intermissionMetrics: document.getElementById('intermissionMetrics'), 
                        strategicText: document.getElementById('strategicText'),
                        continueButton: document.getElementById('continueButton'),
                        statusBar: { 
                            dataLeakSize: document.getElementById('status-dataLeakSize'), 
                            financialLoss: document.getElementById('status-financialLoss'), 
                            customerTrust: document.getElementById('status-customerTrust'), 
                            reputation: document.getElementById('status-reputation'), 
                            regulatoryRisk: document.getElementById('status-regulatoryRisk'),
                            remaining: document.getElementById('status-remaining')
                        },
                        leaderboard: {
                            overlay: document.getElementById('leaderboardOverlay'),
                            body: document.getElementById('leaderboardBody'),
                            table: document.getElementById('leaderboardTable'),
                            btnOpen: document.getElementById('openLeaderboardBtn'),
                            btnClose: document.getElementById('lbCloseBtn'),
                            btnRefresh: document.getElementById('lbRefreshBtn')
                        }
                    };
                    this.loadGameHTML();
                    this.attachListeners();
                    this.elements.intro.style.display = 'flex';
                    this.elements.game.style.display = 'none';
                },

                attachListeners() {
                    this.elements.startButton.addEventListener('click', () => {
                        this.elements.intro.style.display = 'none';
                        this.elements.game.style.display = 'block';
                        this.startGlobalTimer();
                        this.showSection('day1_alarm'); 
                    });
                    
                    this.elements.gameContent.addEventListener('click', (e) => {
                        const button = e.target.closest('.btn[data-decision]');
                        if (!button || button.disabled) return; 
                        
                        const decisionId = button.dataset.decision;
                        const nextSection = button.dataset.nextSection;

                        this.handleDecision(decisionId, nextSection);
                    });

                    this.elements.continueButton.addEventListener('click', () => {
                        const nextSectionId = this.elements.continueButton.dataset.nextSection;
                        this.elements.intermission.style.display = 'none';
                        
                        if (nextSectionId === 'finalSection') {
                            this.showFinalReport();
                        } else {
                            this.elements.game.style.display = 'block';
                            this.showSection(nextSectionId);
                        }
                    });

                    this.elements.leaderboard.btnOpen?.addEventListener('click', () => this.openLeaderboard());
                    this.elements.leaderboard.btnClose?.addEventListener('click', () => this.closeLeaderboard());
                    this.elements.leaderboard.btnRefresh?.addEventListener('click', () => this.loadLeaderboard());
                    this.elements.leaderboard.overlay.addEventListener('click', (e) => {
                        if (e.target === this.elements.leaderboard.overlay) this.closeLeaderboard();
                    });
                },
                
                handleDecision(decisionId, nextSectionId) {
                    const info = this.decisionInfo[decisionId];
                    if (!info) { console.error("Decision info not found:", decisionId); return; }

                    this.score.dataLeakSize += info.changes.dataLeakSize || 0;
                    this.score.financialLoss += info.changes.financialLoss || 0;
                    this.score.customerTrust = Math.max(0, Math.min(100, this.score.customerTrust + (info.changes.customerTrust || 0)));
                    this.score.reputation = Math.max(0, Math.min(100, this.score.reputation + (info.changes.reputation || 0)));
                    this.score.regulatoryRisk = info.changes.regulatoryRisk || this.score.regulatoryRisk;
                    
                    if (info.clue === 'madeOfficialReport') {
                        this.state.madeOfficialReport = true;
                    }
                    
                    this.state.decisionHistory.push({ id: decisionId, title: info.title, text: info.text, impactType: info.impact }); 
                    
                    this.updateState();
                    this.showIntermission(info.title, info.text, info.strat, info.changes, nextSectionId);
                },

                showIntermission(title, text, strat, changes, nextSectionId) {
                    this.elements.intermissionTitle.textContent = title;
                    this.elements.intermissionText.textContent = text;
                    this.elements.strategicText.textContent = strat;
                    
                    let metricsHTML = '';
                    const formatChange = (label, value, unit, icon) => {
                         let colorClass = 'neutral';
                         let displayValue = value;
                         let arrowIcon = ''; 
                         let sign = '';
                         
                         if (typeof value === 'number') {
                             if (value > 0) {
                                 colorClass = (label === 'MÃ¼ÅŸteri GÃ¼veni' || label === 'Ä°tibar PuanÄ±') ? 'positive' : 'negative';
                                 arrowIcon = 'fa-arrow-up-long';
                                 sign = '+';
                             } else if (value < 0) {
                                 colorClass = (label === 'MÃ¼ÅŸteri GÃ¼veni' || label === 'Ä°tibar PuanÄ±') ? 'negative' : 'positive';
                                 arrowIcon = 'fa-arrow-down-long';
                             }
                             displayValue = `${sign}${value.toLocaleString('tr-TR')}`;
                         } else {
                            if(label === 'Yasal Risk') {
                                if(value === 'DÃ¼ÅŸÃ¼k') colorClass = 'positive';
                                if(value === 'Orta') colorClass = 'neutral';
                                if(value === 'YÃ¼ksek' || value === 'Ã‡ok YÃ¼ksek') colorClass = 'negative';
                            }
                         }

                         return `<div class="metric-change ${colorClass}"><i class="fa-solid ${icon}"></i> ${label}: ${arrowIcon ? `<i class="fa-solid ${arrowIcon}"></i>` : ''} ${displayValue}${unit}</div>`;
                    };

                    if (changes.dataLeakSize !== undefined && changes.dataLeakSize !== 0) metricsHTML += formatChange('Veri SÄ±zÄ±ntÄ±sÄ± Boyutu', changes.dataLeakSize, ' GB', 'fa-cloud-arrow-down');
                    if (changes.financialLoss !== undefined && changes.financialLoss !== 0) metricsHTML += formatChange('Finansal Zarar', changes.financialLoss, 'â‚º', 'fa-hand-holding-dollar');
                    if (changes.customerTrust !== undefined && changes.customerTrust !== 0) metricsHTML += formatChange('MÃ¼ÅŸteri GÃ¼veni', changes.customerTrust, '', 'fa-users');
                    if (changes.reputation !== undefined && changes.reputation !== 0) metricsHTML += formatChange('Ä°tibar PuanÄ±', changes.reputation, '', 'fa-building-shield');
                    if (changes.regulatoryRisk !== undefined) metricsHTML += formatChange('Yasal Risk', changes.regulatoryRisk, '', 'fa-scale-balanced');
                    
                    if (metricsHTML === '') metricsHTML = '<p style="text-align: center; font-size: 1em; opacity: 0.8;">Bu kararÄ±n metrikler Ã¼zerinde doÄŸrudan bir etkisi olmadÄ±.</p>';

                    this.elements.intermissionMetrics.innerHTML = metricsHTML;
                    this.elements.continueButton.dataset.nextSection = nextSectionId;
                    this.elements.game.style.display = 'none';
                    this.elements.intermission.style.display = 'flex';
                },

                updateStatusBar() {
                    const s = this.score;
                    this.elements.statusBar.dataLeakSize.textContent = `${s.dataLeakSize} GB`;
                    this.elements.statusBar.financialLoss.textContent = `â‚º${s.financialLoss.toLocaleString('tr-TR')}`;
                    this.elements.statusBar.customerTrust.textContent = Math.max(0, s.customerTrust);
                    this.elements.statusBar.reputation.textContent = Math.max(0, s.reputation);
                    this.elements.statusBar.regulatoryRisk.textContent = s.regulatoryRisk;
                },

                showSection(sectionId) {
                    this.elements.sections.forEach(section => { section.style.display = 'none'; });
                    const targetSection = document.getElementById(sectionId);
                    if (targetSection) {
                        targetSection.style.display = 'block';
                        this.state.currentSectionId = sectionId;
                        this.updateDynamicContent(sectionId);
                    } else {
                        console.error('BÃ¶lÃ¼m bulunamadÄ±:', sectionId);
                        this.showFinalReport();
                    }
                    this.updateState();
                },
                
                showFinalReport() {
                    this.stopGlobalTimer();

                    this.elements.intro.style.display = 'none';
                    this.elements.intermission.style.display = 'none';
                    this.elements.game.style.display = 'block'; 
                    document.getElementById('statusBar').style.display = 'none';

                    this.elements.sections.forEach(section => { section.style.display = 'none'; });
                    
                    const finalSection = document.getElementById('finalSection');
                    if (!finalSection) { console.error("Final bÃ¶lÃ¼mÃ¼ HTML'de bulunamadÄ±!"); return; }
                    finalSection.style.display = 'flex';
                    
                    const badge = document.getElementById('performance-badge');
                    const metricsContainer = document.getElementById('finalMetricsContainer');
                    const timelineList = document.getElementById('decision-timeline-list');
                    const debriefContent = document.getElementById('strategic-debrief-content');
                    const scoreBreakdownList = document.getElementById('score-breakdown');
                    
                    // --- YENÄ° PUANLAMA SÄ°STEMÄ° ---
                    let scoreBreakdown = {};
                    let totalScore = 50; // Baz Puan
                    scoreBreakdown['BaÅŸlangÄ±Ã§ PuanÄ±'] = { value: 50, class: 'score-neutral' };

                    // 1. Veri SÄ±zÄ±ntÄ±sÄ± PerformansÄ±
                    if (this.score.dataLeakSize <= 100) {
                        totalScore += 20;
                        scoreBreakdown['Veri SÄ±zÄ±ntÄ±sÄ± KontrolÃ¼ (<100GB)'] = { value: 20, class: 'score-plus' };
                    } else if (this.score.dataLeakSize <= 300) {
                        totalScore += 5;
                        scoreBreakdown['Veri SÄ±zÄ±ntÄ±sÄ± KontrolÃ¼ (<300GB)'] = { value: 5, class: 'score-plus' };
                    } else if (this.score.dataLeakSize <= 600) {
                        totalScore -= 10;
                        scoreBreakdown['Veri SÄ±zÄ±ntÄ±sÄ± Zafiyeti (>300GB)'] = { value: -10, class: 'score-minus' };
                    } else {
                        totalScore -= 20;
                        scoreBreakdown['BÃ¼yÃ¼k Veri SÄ±zÄ±ntÄ±sÄ± (>600GB)'] = { value: -20, class: 'score-minus' };
                    }

                    // 2. Finansal Zarar PerformansÄ±
                    if (this.score.financialLoss <= 100000) {
                        totalScore += 20;
                        scoreBreakdown['Finansal YÃ¶netim (<â‚º100k)'] = { value: 20, class: 'score-plus' };
                    } else if (this.score.financialLoss <= 400000) {
                        totalScore += 5;
                        scoreBreakdown['Finansal YÃ¶netim (<â‚º400k)'] = { value: 5, class: 'score-plus' };
                    } else if (this.score.financialLoss <= 800000) {
                        totalScore -= 10;
                        scoreBreakdown['Finansal KayÄ±p (>â‚º400k)'] = { value: -10, class: 'score-minus' };
                    } else {
                        totalScore -= 20;
                        scoreBreakdown['BÃ¼yÃ¼k Finansal KayÄ±p (>â‚º800k)'] = { value: -20, class: 'score-minus' };
                    }

                    // 3. MÃ¼ÅŸteri GÃ¼veni ve Ä°tibar PerformansÄ±
                    const avgTrustReputation = (this.score.customerTrust + this.score.reputation) / 2;
                    if (avgTrustReputation >= 80) {
                        totalScore += 20;
                        scoreBreakdown['GÃ¼ven & Ä°tibar YÃ¶netimi (>80)'] = { value: 20, class: 'score-plus' };
                    } else if (avgTrustReputation >= 50) {
                        totalScore += 10;
                        scoreBreakdown['GÃ¼ven & Ä°tibar YÃ¶netimi (>50)'] = { value: 10, class: 'score-plus' };
                    } else if (avgTrustReputation >= 20) {
                        totalScore -= 10;
                        scoreBreakdown['GÃ¼ven & Ä°tibar KaybÄ± (<50)'] = { value: -10, class: 'score-minus' };
                    } else {
                        totalScore -= 20;
                        scoreBreakdown['BÃ¼yÃ¼k GÃ¼ven & Ä°tibar KaybÄ± (<20)'] = { value: -20, class: 'score-minus' };
                    }

                    // 4. Kritik Karar: Yasal Bildirim
                    if (this.state.madeOfficialReport) {
                        totalScore += 15;
                        scoreBreakdown['Kritik Karar: Yasal Sorumluluk'] = { value: 15, class: 'score-plus' };
                    } else {
                        if(this.score.regulatoryRisk !== 'DÃ¼ÅŸÃ¼k') {
                            totalScore -= 20;
                            scoreBreakdown['Kritik Hata: Yasal Sorumluluktan KaÃ§Ä±nma'] = { value: -20, class: 'score-minus' };
                        }
                    }

                    totalScore = Math.round(Math.max(0, Math.min(100, totalScore))); 
                    this.state.totalScore = totalScore;

                    let badgeInfo = {};
                    if (totalScore >= 85) { 
                        badgeInfo = { text: 'BULUT KAHRAMANI', color: 'var(--accent-green)' };
                    } else if (totalScore >= 60) { 
                        badgeInfo = { text: 'DÄ°RENÃ‡LÄ° BULUT UZMANI', color: 'var(--accent-blue)' };
                    } else if (totalScore >= 35) { 
                        badgeInfo = { text: 'BULUTTA ZORLU DENEYÄ°M', color: 'var(--accent-yellow)' };
                    } else { 
                        badgeInfo = { text: 'BULUT FELAKETÄ°', color: 'var(--accent-red)' };
                    }
                    // --- PUANLAMA SÄ°STEMÄ° SONU ---

                    badge.textContent = badgeInfo.text;
                    badge.style.backgroundColor = badgeInfo.color;

                    metricsContainer.innerHTML = `
                        <div class="metric-card"><div class="icon"><i class="fa-solid fa-file-invoice-dollar"></i></div><div class="label">Nihai Puan</div><div class="value">${totalScore}/100</div></div>
                        <div class="metric-card"><div class="icon"><i class="fa-solid fa-cloud-arrow-down"></i></div><div class="label">Toplam SÄ±zan Veri</div><div class="value">${this.score.dataLeakSize} GB</div></div>
                        <div class="metric-card"><div class="icon"><i class="fa-solid fa-hand-holding-dollar"></i></div><div class="label">Toplam Finansal Zarar</div><div class="value">â‚º${this.score.financialLoss.toLocaleString('tr-TR')}</div></div>
                        <div class="metric-card"><div class="icon"><i class="fa-solid fa-users"></i></div><div class="label">Son MÃ¼ÅŸteri GÃ¼veni</div><div class="value">${this.score.customerTrust}/100</div></div>
                        <div class="metric-card"><div class="icon"><i class="fa-solid fa-building-shield"></i></div><div class="label">Son Ä°tibar PuanÄ±</div><div class="value">${this.score.reputation}/100</div></div>
                        <div class="metric-card"><div class="icon"><i class="fa-solid fa-scale-balanced"></i></div><div class="label">Son Yasal Risk</div><div class="value">${this.score.regulatoryRisk}</div></div>
                    `;

                    timelineList.innerHTML = this.state.decisionHistory.map(decision => {
                        let liClass = decision.impactType.toLowerCase();
                        return `<li class="${liClass}"><span class="decision-title">${decision.title}</span></li>`;
                    }).join('');
                    
                    // Puan dÃ¶kÃ¼mÃ¼nÃ¼ ekrana yazdÄ±r
                    scoreBreakdownList.innerHTML = Object.entries(scoreBreakdown).map(([key, item]) => {
                         const sign = item.value > 0 ? '+' : '';
                         return `<li class="${item.class}"><span>${key}</span><span class="score-value">${sign}${item.value} Puan</span></li>`;
                    }).join('');

                    let debriefHTML = '';
                    if (badgeInfo.text === 'BULUT KAHRAMANI') { 
                        debriefHTML += `<p><strong>OlaÄŸanÃ¼stÃ¼ BaÅŸarÄ±!</strong> Bir KÄ±demli Bulut GÃ¼venliÄŸi UzmanÄ± olarak, bulut ortamÄ±nÄ±zdaki sinsi zafiyetleri ustalÄ±kla tespit ettiniz ve en hassas mÃ¼ÅŸteri verilerinin sÄ±zÄ±ntÄ±sÄ±nÄ± minimuma indirdiniz. HÄ±zlÄ± teknik mÃ¼dahaleleriniz, doÄŸru iletiÅŸim stratejileriniz ve yasal uyumdaki liderliÄŸiniz sayesinde Ã‡OLHAK Teknoloji, bu bÃ¼yÃ¼k krizden gÃ¼Ã§lenerek Ã§Ä±ktÄ±. Bulut gÃ¼venliÄŸinde sektÃ¶r lideri olduÄŸunuzu kanÄ±tladÄ±nÄ±z!</p>`;
                    } else if (badgeInfo.text === 'DÄ°RENÃ‡LÄ° BULUT UZMANI') { 
                        debriefHTML += `<p><strong>BaÅŸarÄ±lÄ± Bir MÃ¼dahale!</strong> OldukÃ§a karmaÅŸÄ±k bir bulut gÃ¼venliÄŸi kriziyle karÅŸÄ± karÅŸÄ±ya kalmanÄ±za raÄŸmen, etkili teknik mÃ¼dahalelerle ve stratejik kararlarla krizi kontrol altÄ±na almayÄ± baÅŸardÄ±nÄ±z. BazÄ± veri sÄ±zÄ±ntÄ±larÄ± ve finansal kayÄ±plar yaÅŸansa da, genel olarak mÃ¼ÅŸteri gÃ¼venini ve ÅŸirket itibarÄ±nÄ± Ã¶nemli Ã¶lÃ§Ã¼de korudunuz. AldÄ±ÄŸÄ±nÄ±z derslerle gelecekteki bulut gÃ¼venliÄŸi duruÅŸunuzu daha da saÄŸlamlaÅŸtÄ±racaksÄ±nÄ±z.</p>`;
                    } else if (badgeInfo.text === 'BULUTTA ZORLU DENEYÄ°M') { 
                        debriefHTML += `<p><strong>Ã–ÄŸrenilen BÃ¼yÃ¼k Dersler:</strong> Bulut gÃ¼venliÄŸi krizini yÃ¶netmekte zorlandÄ±nÄ±z ve kritik mÃ¼ÅŸteri verilerinin sÄ±zmasÄ±yla sonuÃ§lanan Ã¶nemli kayÄ±plar yaÅŸadÄ±nÄ±z. Finansal zararlar arttÄ± ve ÅŸirketin itibarÄ± ciddi ÅŸekilde zedelendi. Ancak bu deneyim, bulut gÃ¼venliÄŸi stratejilerinizi kÃ¶kten deÄŸiÅŸtirmek ve altyapÄ±nÄ±zÄ± daha saÄŸlam hale getirmek iÃ§in paha biÃ§ilmez dersler saÄŸladÄ±. Acil eylem planlarÄ±na ihtiyacÄ±nÄ±z var.</p>`;
                    } else { 
                        debriefHTML += `<p><strong>BULUT FELAKETÄ°:</strong> KÄ±demli Bulut GÃ¼venliÄŸi UzmanÄ± olarak bu krizi yÃ¶netmekte ciddi zorluklar yaÅŸadÄ±nÄ±z. BÃ¼yÃ¼k miktarda hassas mÃ¼ÅŸteri verisi sÄ±zdÄ±rÄ±ldÄ±, finansal kayÄ±plar devasa boyutlara ulaÅŸtÄ± ve ÅŸirketin itibarÄ± ile mÃ¼ÅŸteri gÃ¼veni tamamen Ã§Ã¶ktÃ¼. Yasal soruÅŸturmalar ve yÃ¼ksek para cezalarÄ± kaÃ§Ä±nÄ±lmaz gÃ¶rÃ¼nÃ¼yor. Bu durum, Ã‡OLHAK Teknoloji iÃ§in bulut gÃ¼venliÄŸi stratejilerinde kÃ¶klÃ¼ bir deÄŸiÅŸim gerektiren acÄ± bir ders oldu.</p>`;
                    }
                    document.getElementById('strategic-debrief-content').innerHTML = debriefHTML;
                    
                    this.saveLeaderboard(totalScore);
                },

                updateState() { this.updateStatusBar(); this.updateSlackChat(this.state.currentSectionId); },

                updateSlackChat(currentSection) {
                    const sectionElement = document.getElementById(currentSection);
                    if (!sectionElement) return;
                    const chatViewer = sectionElement.querySelector('.slack-chat');
                    if (!chatViewer) return; 
                    let chat = '';
                    // Slack chat logic... (Mevcut haliyle kalabilir)
                    chatViewer.innerHTML = chat;
                },
                
                updateDynamicContent(sectionId) {},

                loadGameHTML() {
                    this.elements.sections = document.querySelectorAll('#game-content .section');
                    if (typeof hljs !== 'undefined') {
                        hljs.highlightAll();
                    }
                },

                /* === GLOBAL TIMER & LEADERBOARD FONKSÄ°YONLARI === */
                startGlobalTimer() {
                    if (this.timer.running) return;
                    this.timer.running = true;
                    this.timer.remaining = this.timer.total;
                    this.updateTimerUI();
                    this.timer.intervalId = setInterval(() => {
                        this.timer.remaining--;
                        this.updateTimerUI();
                        if (this.timer.remaining <= 0) {
                            this.stopGlobalTimer();
                            this.showFinalReport();
                        }
                    }, 1000);
                },

                stopGlobalTimer() {
                    if (this.timer.intervalId) clearInterval(this.timer.intervalId);
                    this.timer.intervalId = null;
                    this.timer.running = false;
                },

                updateTimerUI() {
                    const m = String(Math.floor(this.timer.remaining / 60)).padStart(2,'0');
                    const s = String(this.timer.remaining % 60).padStart(2,'0');
                    if (this.elements.statusBar.remaining) {
                        this.elements.statusBar.remaining.textContent = `${m}:${s}`;
                    }
                },

                openLeaderboard() {
                    this.elements.leaderboard.overlay.style.display = 'flex';
                    this.loadLeaderboard();
                },

                closeLeaderboard() {
                    this.elements.leaderboard.overlay.style.display = 'none';
                },

                async saveLeaderboard(finalScore) {
                    const name = (localStorage.getItem('playerName') || 'Anonim').toString().slice(0, 40);
                    const payload = {
                        scenario: 'v6-cloud',
                        name,
                        score: finalScore,
                        details: {
                            dataLeakSize: this.score.dataLeakSize,
                            financialLoss: this.score.financialLoss,
                            customerTrust: this.score.customerTrust,
                            reputation: this.score.reputation,
                            regulatoryRisk: this.score.regulatoryRisk,
                            decisions: this.state.decisionHistory.map(d => d.id)
                        },
                        timeSpentSec: this.timer.total - this.timer.remaining,
                        timestamp: new Date().toISOString()
                    };

                    try {
                        const res = await fetch('/api/score', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });
                        if (!res.ok) throw new Error('HTTP ' + res.status);
                    } catch(e) {
                        const key = 'leaderboard-v6-cloud';
                        const arr = JSON.parse(localStorage.getItem(key) || '[]');
                        arr.push(payload);
                        arr.sort((a,b)=> b.score - a.score);
                        localStorage.setItem(key, JSON.stringify(arr.slice(0,100)));
                    }
                },

                async loadLeaderboard() {
                    const tbody = this.elements.leaderboard.body;
                    const key = 'leaderboard-v6-cloud';
                    tbody.innerHTML = `<tr><td colspan="4">YÃ¼kleniyorâ€¦</td></tr>`;
                    let rows = [];
                    try {
                        const res = await fetch('/api/leaderboard?scenario=v6-cloud', { method:'GET' });
                        if (!res.ok) throw new Error('HTTP ' + res.status);
                        const data = await res.json();
                        rows = Array.isArray(data) ? data : [];
                    } catch(e) {
                        const arr = JSON.parse(localStorage.getItem(key) || '[]');
                        rows = arr.map(x => ({ name: x.name, score: x.score, timestamp: x.timestamp }));
                    }

                    if (!rows.length) {
                        tbody.innerHTML = `<tr><td colspan="4">HenÃ¼z kayÄ±t bulunmuyor.</td></tr>`;
                        return;
                    }
                    rows.sort((a,b)=> b.score - a.score);
                    tbody.innerHTML = rows.slice(0,50).map((r,i)=>`
                        <tr>
                            <td>${i+1}</td>
                            <td>${(r.name || 'Anonim').toString().slice(0,40)}</td>
                            <td>${r.score}</td>
                            <td>${r.timestamp ? new Date(r.timestamp).toLocaleString('tr-TR') : '-'}</td>
                        </tr>
                    `).join('');
                }
            };
            window.game.setup();
        });
    </script>
</body>
